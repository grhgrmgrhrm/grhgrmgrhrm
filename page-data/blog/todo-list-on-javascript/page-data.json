{"componentChunkName":"component---src-layout-post-layout-js","path":"/blog/todo-list-on-javascript","result":{"data":{"markdownRemark":{"frontmatter":{"slug":"todo-list-on-javascript","title":"Список дел (ToDo list) на JavaScript","description":"Список текущих дел, написанная на JavaScript - прекрасная задача для тренировки начинающего программиста.","date":"2020-01-20T00:00:00.000Z"},"html":"<h1>&#x421;&#x43F;&#x438;&#x441;&#x43E;&#x43A; &#x434;&#x435;&#x43B; (ToDo list) &#x43D;&#x430; JavaScript</h1>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/8ea5e1052ffaa197f4af8f51587dadab/80184/todo.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 46.5%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMEAQL/xAAXAQADAQAAAAAAAAAAAAAAAAABAgMF/9oADAMBAAIQAxAAAAGja+cqqRop/8QAGxABAAICAwAAAAAAAAAAAAAAAgABAxESMUL/2gAIAQEAAQUCrSV5EZhfMT0Ov//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABcRAQADAAAAAAAAAAAAAAAAAAABEjH/2gAIAQIBAT8BsnX/xAAcEAABBQADAAAAAAAAAAAAAAABAAIQESExYXH/2gAIAQEABj8Cx7kAav1bz1Aj/8QAGxABAAICAwAAAAAAAAAAAAAAAREhABBBUbH/2gAIAQEAAT8hoCsrHWRNLQuUnOWjEMMK0+un/9oADAMBAAIAAwAAABCE7//EABcRAQADAAAAAAAAAAAAAAAAAAABETH/2gAIAQMBAT8QpGP/xAAXEQEBAQEAAAAAAAAAAAAAAAABABEh/9oACAECAQE/EML0mKwv/8QAHhABAAICAQUAAAAAAAAAAAAAAQARITFRQWFxsfD/2gAIAQEAAT8QCaqFcK+WBGDsjNajitx2YXqChwiiZ3GfR2mny+5//9k=&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"&#x421;&#x43F;&#x438;&#x441;&#x43E;&#x43A; &#x434;&#x435;&#x43B; (ToDo list) &#x43D;&#x430; JavaScript\" title=\"&#x421;&#x43F;&#x438;&#x441;&#x43E;&#x43A; &#x434;&#x435;&#x43B; (ToDo list) &#x43D;&#x430; JavaScript\" src=\"/static/8ea5e1052ffaa197f4af8f51587dadab/4b190/todo.jpg\" srcset=\"/static/8ea5e1052ffaa197f4af8f51587dadab/e07e9/todo.jpg 200w,\n/static/8ea5e1052ffaa197f4af8f51587dadab/066f9/todo.jpg 400w,\n/static/8ea5e1052ffaa197f4af8f51587dadab/4b190/todo.jpg 800w,\n/static/8ea5e1052ffaa197f4af8f51587dadab/e5166/todo.jpg 1200w,\n/static/8ea5e1052ffaa197f4af8f51587dadab/b17f8/todo.jpg 1600w,\n/static/8ea5e1052ffaa197f4af8f51587dadab/80184/todo.jpg 1690w\" sizes=\"(max-width: 800px) 100vw, 800px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span><br>\n&#x421;&#x43E;&#x437;&#x434;&#x430;&#x435;&#x43C; &#x441;&#x43F;&#x438;&#x441;&#x43E;&#x43A; &#x442;&#x435;&#x43A;&#x443;&#x449;&#x438;&#x445; &#x434;&#x435;&#x43B; &#x43D;&#x430; JavaScript &#x441; &#x43F;&#x43E;&#x43C;&#x43E;&#x449;&#x44C;&#x44E; JS, HTML &#x438; CSS.<br>\n<p>Итак, поехали.</p>\n<p>Список дел можно разделить на две области - input для ввода данных и лист текущих задач, которые можно помечать выполнеными и удалять:</p>\n<ol>\n<li>Поле ввода input + кнопка для добавления задачи</li>\n<li>Список li для отображения текущих задач</li>\n</ol>\n<p>Теперь попробуем все эти области отобразить в коде:\nПоле ввода input + кнопка для добавления задачи</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">\t&lt;div id=&quot;myDIV&quot; class=&quot;header&quot;&gt;\n\t\t&lt;h1&gt;ToDo list на JavaScript&lt;/h1&gt;\n\t\t&lt;input type=&quot;text&quot; id=&quot;myInput&quot; placeholder=&quot;Например, захватить мир...&quot;&gt;\n\t\t&lt;span onclick=&quot;newElement()&quot; class=&quot;addBtn&quot;&gt;Добавить&lt;/span&gt;\n\t&lt;/div&gt;</code></pre></div>\n<p>Нажатие кнопки будет обращаться с помощью обработчика onclick к функции newTask(), которая затем добавит задачу в список ниже. <br>\nДобавим стилей и посмотрим, как выглядит вживую:<br>\n<a href=\"https://jsfiddle.net/raman_shastapalau/7k39eqoh/3/\">https://jsfiddle.net/raman_shastapalau/7k39eqoh/3/</a> <br></p>\n<p>Теперь добавим непосредственно список текущих дел. В этот список будут добавляться задачи. <br> </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">\t&lt;ul id=&quot;myTasks&quot;&gt;\n\t\t&lt;li class=&quot;checked&quot;&gt;Выучить HTML, CSS, JS&lt;/li&gt;\n\t\t&lt;li class=&quot;checked&quot;&gt;Написать ToDo на чистом JS&lt;/li&gt;\n\t\t&lt;li&gt;Разместить код на Github&lt;/li&gt;\n\t\t&lt;li&gt;Написать на JavaScript еще что-нибудь&lt;/li&gt;\n\t\t&lt;li&gt;Заполнить профиль в Linkedin&lt;/li&gt;\n\t\t&lt;li&gt;Уйти в IT =)&lt;/li&gt;\n\t&lt;/ul&gt;</code></pre></div>\n<p>Обратите внимание на class=\"checked\" - по этому классу будет строка с задачей зачёркиваться, то есть помечаться как выполнена. <br>\nСмотрим, как выглядит - <a href=\"https://jsfiddle.net/raman_shastapalau/7k39eqoh/4/\">https://jsfiddle.net/raman_shastapalau/7k39eqoh/4/</a> <br>\nПока никакие кнопки не нажимаются и задачи не добавляются. Для этого и восмользуемся JS. <br>\nПервым делом, создаём кнопку \"Закрыть\" и добавляем ее к каждому элементу списка<br></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">let todolist = document.getElementsByTagName(&quot;LI&quot;);\nlet i;\n// В цикле создаем элемент span и вставляем внутрь него текст. Затем проходимся по каждому i-му элементу списка\nfor (i = 0; i &lt; todolist.length; i++) {\n    let span = document.createElement(&quot;SPAN&quot;);\n    let txt = document.createTextNode(&quot;\\u00D7&quot;);\n    span.className = &quot;close&quot;;\n    span.appendChild(txt);\n    todolist[i].appendChild(span);\n};</code></pre></div>\n<p>Затем пишем обработчик нажатия на кнопку закрыть, <br>\nчтобы скрыть текущий элемент списка с помощью div.style.display = \"none\";</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">let close = document.getElementsByClassName(&quot;close&quot;);\nfor (i = 0; i &lt; close.length; i++) {\n    close[i].onclick = function() {\n        let div = this.parentElement;\n        div.style.display = &quot;none&quot;;\n    }\n};</code></pre></div>\n<p>Добавляем символ \"выполнено\" при нажатии на элемент списка<br></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">let list = document.querySelector(&#39;ul&#39;);\nlist.addEventListener(&#39;click&#39;, function(ev) {\n    if (ev.target.tagName === &#39;LI&#39;) {\n        ev.target.classList.toggle(&#39;checked&#39;);\n    }\n}, false);</code></pre></div>\n<p>Теперь напишем функцию newTask(), для добавления новых задач:<br></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">function newTask() {\n    let li = document.createElement(&quot;li&quot;);\n    let inputValue = document.getElementById(&quot;myInput&quot;).value;\n    let t = document.createTextNode(inputValue);\n    li.appendChild(t);\n    // Реагируем на пустой ввод\n    if (inputValue === &#39;&#39;) {\n        alert(&quot;Вы должны хоть что-нибудь написать!&quot;);\n    } else {\n        document.getElementById(&quot;myTasks&quot;).appendChild(li);\n    }\n    document.getElementById(&quot;myInput&quot;).value = &quot;&quot;;\n    console.log(inputValue);\n\n    let span = document.createElement(&quot;SPAN&quot;);\n    let txt = document.createTextNode(&quot;\\u00D7&quot;);\n    span.className = &quot;close&quot;;\n    span.appendChild(txt);\n    li.appendChild(span);\n\n    for (i = 0; i &lt; close.length; i++) {\n        close[i].onclick = function() {\n            let div = this.parentElement;\n            div.style.display = &quot;none&quot;;\n        }\n    }\n};</code></pre></div>\n<p>Функция добавляет новую задачу в конец списка и не дает добавить задачу, если поле ввода текста пустое.<br>\nПроверяем работоспособность - <a href=\"https://jsfiddle.net/raman_shastapalau/7k39eqoh/8/\">https://jsfiddle.net/raman_shastapalau/7k39eqoh/8/</a> <br>\nЕдинственное, что не нравится - приходится вручную нажимать кнопку \"добавить\" - по клавише \"Enter\" добавление задачи не срабатывает. <br>\nДля этого отправим в input с id \"myInput\" обработчик события.<br></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">document.getElementById(&quot;myInput&quot;).onkeyup = function (event) {\n    if (event.code == &quot;Enter&quot;) {\n        newTask()\n    }\n};</code></pre></div>\n<p>Вот что в итоге получилось - <a href=\"https://jsfiddle.net/raman_shastapalau/7k39eqoh/10/\">https://jsfiddle.net/raman_shastapalau/7k39eqoh/10/</a> <br>\nСкачать исходники можете здесь - <a href=\"https://github.com/grhgrmgrhrm/todo-list-on-JS\">https://github.com/grhgrmgrhrm/todo-list-on-JS</a></p>"}},"pageContext":{"slug":"todo-list-on-javascript"}},"staticQueryHashes":["2837053904","3706524088"]}